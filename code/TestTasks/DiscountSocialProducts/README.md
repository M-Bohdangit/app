Задача «Скидка на Социальные продукты» (скидка по крону)
Для продуктов создать атрибут «Social» В админке создать новую вкладку Cron-social. На вкладке организовать вкл/выкл
модуля, окно для ввода размера скидки, данные для крона Вариант 1 – окно для ввода дня месяца, чекбокс для активации
этого окна. Если проблема с чекбосом, можно организовать привычный выпадающий список Yes/No Вариант 2 – два окна,
определяющих начало и конец акции в часах, например, с 15 до 17 – время начала и конца акции, чекбокс для активации этих
окон Логика Если включен только первый чекбокс, для всех продуктов, отмеченных true в атрибуте «Social», включается
скидка на весь указанный день каждого месяца. Если включен только второй чекбокс, для всех продуктов, отмеченных true в
атрибуте «Social», включается скидка на каждый день в указанный диапазон времени. Если включен первый и второй чекбокс,
для всех продуктов, отмеченных true в атрибуте «Social», включается скидка на указанный день каждого месяца, но только в
указанный диапазон времени (не на весь день)
В то время, когда действует скидка, стандартная цена должна заменяться на льготную. Под ценой должно быть добавлено
сообщение: «Действует льготный период, цена <ЧИСЛО СТАРОЙ ЦЕНЫ> понижена на <ЧИСЛО ПРОЦЕНТОВ>%» Новая цена должна
учитываться при расчетах в корзине (проверить после прохождения процесса чекаута, что сохранится в order)
